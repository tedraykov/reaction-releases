apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: reaction-etl-shippable-inventory
  namespace: serverless
spec:
  releaseName: reaction-etl-shippable-inventory
  chart:
    git: git@github.com:sportsdirect/sdi-releases.git
    path: charts/serverless-deploy
    ref: develop
  values:
    annotations:
      iam.amazonaws.com/role: arn:aws:iam::551763058466:role/sdi-ems-staging-serverless-deploy
    environment:
      JAEGER_ENDPOINT: http://jaeger-collector.staging.k8s.ems-test.io/api/traces
      KAFKA_PARTITIONS: 3
      KAFKA_TOPIC_ETL_SHIPPABLE_INVENTORY_STREAM: etl.shippable-inventory.inventory-data.json-gen2
      REACTION_LOG_LEVEL: INFO
      SITE_CODE: EMS
      SKIP_INVOCATION: false
    secretRefs:
      - mongodb
    package:
      name: reaction-etl-shippable-inventory
      version: 13dd8b4
