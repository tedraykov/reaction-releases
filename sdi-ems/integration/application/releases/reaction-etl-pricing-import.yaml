apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: reaction-etl-pricing-import
  namespace: serverless
spec:
  releaseName: reaction-etl-pricing-import
  chart:
    git: git@github.com:sportsdirect/sdi-releases.git
    path: charts/serverless-deploy
    ref: develop
  helmVersion: v3
  values:
    annotations:
      iam.amazonaws.com/role: sdi-ems-integration-serverless-deploy
    environment:
      CLOUDFLARE_CLIENT_ID:
      CLOUDFLARE_CLIENT_SECRET:
      GRAFANA_API:
      GRAFANA_AUTH_TOKEN:
      JAEGER_ENDPOINT: http://jaeger-collector.tracing.svc.cluster.local:14268/api/traces
      PRICING_GRAPHQL_URL: http://pe.integration.ems-integration.k8s.frasers.io/graphql
      REACTION_LOGGER_NAME: reaction-etl-pricing-import
      REACTION_LOG_LEVEL: INFO
      REQUEST_CONCURRENCY: 1
      REQUEST_BATCH_SIZE: 1000
      SKIP_INVOCATION: false
    secretRefs:
      - mongodb
    package:
      name: reaction-etl-pricing-import
      version: de902bb
