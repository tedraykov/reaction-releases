{{- $fullName := include "reaction-storefront.fullname" . -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ $fullName }}-config
  labels:
    app.kubernetes.io/name: {{ $fullName }}
    app.kubernetes.io/component: frontend
    app.kubernetes.io/instance: {{ .Release.Name }}
    app.kubernetes.io/managed-by: {{ .Release.Service }}
    helm.sh/chart: {{ $fullName }}
data:
  CANONICAL_URL: {{ required "storefront.baseUrl not defined." .Values.storefront.baseUrl }}
  DEFAULT_SHIPPING_METHOD_ID: {{ required "storefront.defaultShippingMethodId not defined." .Values.storefront.defaultShippingMethodId }}
  DEFAULT_SHIPPING_METHOD_RATE: {{ required "storefront.defaultShippingMethodRate not defined." .Values.storefront.defaultShippingMethodRate }}
  ELASTICSEARCH_URL: {{ required "storefront.elasticearchUrl not defined." .Values.storefront.elasticsearchUrl }}
  GRAPHQL_INTROSPECTION: {{ required "graphql.introspection not defined." .Values.graphql.introspection }}
  IMAGE_URL: {{ required "storefront.imageUrl not defined." .Values.storefront.imageUrl }}
  INTERNAL_GRAPHQL_URL: {{ required "graphql.url not defined." .Values.graphql.url }}
  PLACEHOLDER_IMAGE_URL_GALLERY: {{ .Values.storefrontPlaceholder.imageUrlGallery | default "/resources/placeholder.gif" }}
  PLACEHOLDER_IMAGE_URL_GRID: {{ .Values.storefrontPlaceholder.imageUrlGrid | default "/resources/placeholder.gif" }}
  PRINT_ERRORS: {{ .Values.storefront.stacktraceEnabled | default false }}
  SEARCH_ENABLED: true
  SESSION_MAX_AGE_MS: {{ required "storefront.sessionMaxAge not defined." .Values.storefront.sessionMaxAge }}
  STOREFRONT: {{ required "storefront.name not defined." .Values.storefront.name }}
