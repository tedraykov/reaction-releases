apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: reaction-trigger-master-publisher
  namespace: production
spec:
  releaseName: reaction-trigger-master-publisher
  chart:
    git: git@github.com:sportsdirect/sdi-releases.git
    path: charts/reaction-trigger-master-publisher
    ref: develop
  values:
    imagePullSecret: reaction-docker-hub
    image:
      repository: reactioncommerce/reaction-cron-jobs
      tag: "trigger-master-publisher-63bfff3"
    schedule: "* */4 * * *"
    config:
      kafkaBootstrapServers: 'b-1.production.gkq6i5.c2.kafka.us-east-1.amazonaws.com:9092,b-2.production.gkq6i5.c2.kafka.us-east-1.amazonaws.com:9092,b-3.production.gkq6i5.c2.kafka.us-east-1.amazonaws.com:9092'
      kafkaTopic: initial-import
    resources:
      requests:
        memory: 500Mi
        cpu: 500m
      limits:
        memory: 2Gi
        cpu: "2"
