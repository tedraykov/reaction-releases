apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: reaction-trigger-master-publisher
  namespace: bobs
spec:
  releaseName: reaction-trigger-master-publisher
  chart:
    git: git@github.com:sportsdirect/sdi-releases.git
    path: charts/reaction-trigger-master-publisher
    ref: develop
  values:
    imagePullSecret: dockerhub-creds
    image:
      repository: reactioncommerce/reaction-cron-jobs
      tag: "trigger-master-publisher-63bfff3"
    schedule: "* */4 * * *"
    config:
      kafkaBootstrapServers: "broker0.kafka-production.k8s.bobs-test.io:9092,broker1.kafka-production.k8s.bobs-test.io:9093,broker2.kafka-production.k8s.bobs-test.io:9094"
      kafkaTopic: initial-import
    resources:
      requests:
        memory: 500Mi
        cpu: 500m
      limits:
        memory: 2Gi
        cpu: "2"
